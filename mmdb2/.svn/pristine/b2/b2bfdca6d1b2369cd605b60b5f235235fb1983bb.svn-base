package com.mmdb.model.security.storage;

import java.util.List;

import org.springframework.stereotype.Service;

import com.mmdb.core.framework.neo4j.storage.NodeStorage;
import com.mmdb.core.log.Log;
import com.mmdb.core.log.LogFactory;
import com.mmdb.model.security.UserGroup;

/**
 * 用户组存储
 *
 * @author XIE
 */
@Service
public class UserGroupStorage extends NodeStorage<UserGroup> {
    private Log log = LogFactory.getLogger("UserGroupStorage");

    /**
     * 根据id获取角户组
     *
     * @param id 角户组id
     * @return
     * @throws Exception
     */
    public UserGroup getById(String id) throws Exception {
        List<UserGroup> list = this.getByProperty("id", id);
        if (list.size() == 1) {
            return list.get(0);
        } else if (list.size() > 1) {
            log.eLog("UserGroup[" + id + "]not unique.");
            throw new Exception("UserGroup[" + id + "]not unique.");
        } else {
            return null;
        }
    }
}
